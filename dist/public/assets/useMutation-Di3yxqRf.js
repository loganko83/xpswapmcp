import{r as e}from"./react-B-ht5LAu.js";import{a8 as c,K as l}from"./vendor-CEoFgRlV.js";import{a as i,r as m,s as f}from"./index-CunMlly4.js";function y(s,b){const a=i(),[r]=e.useState(()=>new c(a,s));e.useEffect(()=>{r.setOptions(s)},[r,s]);const t=e.useSyncExternalStore(e.useCallback(o=>r.subscribe(l.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=e.useCallback((o,n)=>{r.mutate(o,n).catch(m)},[r]);if(t.error&&f(r.options.throwOnError,[t.error]))throw t.error;return{...t,mutate:u,mutateAsync:t.mutate}}export{y as u};
