const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/home-DmCl1lAq.js","assets/react-B-ht5LAu.js","assets/vendor-CEoFgRlV.js","assets/utils-B8vuxRvf.js","assets/useMutation-Di3yxqRf.js","assets/router-QSY63kmV.js","assets/progress-BFBbhD-f.js","assets/ui-CRT7ecel.js","assets/web3-C8Lu7bQ_.js","assets/swap-C-bidiBf.js","assets/tabs-BjtZ7Jla.js","assets/input-C7h7K1mu.js","assets/scroll-area-CP_k00Us.js","assets/tokenUtils-qSr8rCra.js","assets/WalletSelector-DokZcYQv.js","assets/useTokenPrices-CJvB2e0C.js","assets/separator-BNVQR2DL.js","assets/select-DQquyDyO.js","assets/lifiService-CuhfAat-.js","assets/trading-Vfav2PYx.js","assets/label-DP49jqZS.js","assets/charts-D-AUb7q8.js","assets/pool-D6dVHIDX.js","assets/farm-BljNkKIO.js","assets/bridge-C96csn5Q.js","assets/atomic-swap-B7UDz-4K.js","assets/governance-C4RAPeO-.js","assets/textarea-Dwf9QYDG.js","assets/analytics-DFGy4L9u.js","assets/security-O7e-KSdX.js","assets/documentation-DtbvNQXV.js","assets/privacy-policy-BaEwM9fh.js","assets/terms-of-service-9WjCd7UU.js","assets/bug-bounty-BK7HBkQI.js","assets/multichain-portfolio-BzZKnpTA.js","assets/minting-PLDCZlkE.js","assets/xps-staking-DSXax72M.js","assets/xps-purchase-_MwG-2iZ.js","assets/options-CG8AAG5B.js","assets/futures-D4Esr63U.js","assets/flashloans-Do6bKR9m.js","assets/memecoin-C18SxM6_.js","assets/test-DSWaXgWi.js","assets/not-found-CyZHmeyR.js"])))=>i.map(i=>d[i]);
import{r as a,j as e,f as mt}from"./react-B-ht5LAu.js";import{K as ut,L as ht,Q as pt,M as xt,N as U,O as v}from"./vendor-CEoFgRlV.js";import{L as m,u as Pe,R as ft,S as gt,a as w}from"./router-QSY63kmV.js";import{V as Se,R as Te,A as Ie,C as Ee,T as Ae,D as Re,P as wt,a as Oe,b as vt,O as De,c as bt,d as Xe,e as jt,f as $e,g as Le,h as yt,i as Nt,S as kt,j as ze,k as Ze,l as Ct,m as Fe,I as Be,n as We,o as Ve,p as Ge,L as qe,q as Ue,r as _t,s as Mt}from"./ui-CRT7ecel.js";import{t as Pt,c as St,X as le,S as re,R as Z,C as ae,W as q,E as Qe,A as H,D as pe,a as Tt,b as It,d as Et,T as xe,L as At,e as Rt,M as Ot,f as Dt,g as Xt,h as $t,i as Lt,j as K,k as O,l as Y,m as zt,Z as Zt,F as fe,n as Ft,o as ge,p as we,q as J,r as Bt,s as Wt,V as Vt,u as Gt,v as qt,w as Ut,G as Qt,U as Ht}from"./utils-B8vuxRvf.js";import{f as Kt,C as ve,B as be,a as Yt,p as Jt,b as es,w as T,X as ee}from"./web3-C8Lu7bQ_.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();var He=a.createContext(void 0),ts=s=>{const t=a.useContext(He);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ss=({client:s,children:t})=>(a.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(He.Provider,{value:s,children:t})),Ke=a.createContext(!1),rs=()=>a.useContext(Ke);Ke.Provider;function as(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var ns=a.createContext(as()),os=()=>a.useContext(ns);function is(s,t){return typeof s=="function"?s(...t):!!s}function je(){}var ls=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},cs=s=>{a.useEffect(()=>{s.clearReset()},[s])},ds=({result:s,errorResetBoundary:t,throwOnError:r,query:n})=>s.isError&&!t.isReset()&&!s.isFetching&&n&&is(r,[s.error,n]),ms=s=>{s.suspense&&(s.staleTime===void 0&&(s.staleTime=1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},us=(s,t)=>s.isLoading&&s.isFetching&&!t,hs=(s,t)=>s?.suspense&&t.isPending,ye=(s,t,r)=>t.fetchOptimistic(s).catch(()=>{r.clearReset()});function ps(s,t,r){const n=ts(),i=rs(),c=os(),l=n.defaultQueryOptions(s);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",ms(l),ls(l,c),cs(c);const f=!n.getQueryCache().get(l.queryHash),[o]=a.useState(()=>new t(n,l)),p=o.getOptimisticResult(l);if(a.useSyncExternalStore(a.useCallback(j=>{const C=i?je:o.subscribe(ut.batchCalls(j));return o.updateResult(),C},[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),a.useEffect(()=>{o.setOptions(l,{listeners:!1})},[l,o]),hs(l,p))throw ye(l,o,c);if(ds({result:p,errorResetBoundary:c,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw p.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,p),l.experimental_prefetchInRender&&!ht&&us(p,i)&&(f?ye(l,o,c):n.getQueryCache().get(l.queryHash)?.promise)?.catch(je).finally(()=>{o.updateResult()}),l.notifyOnChangeProps?p:o.trackResult(p)}function xs(s,t){return ps(s,pt)}const fs="/xpswap/api",Ye=s=>s.startsWith("http")?s:`${fs}${s.startsWith("/")?s:`/${s}`}`;async function Je(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Wr(s,t,r){const n=t.startsWith("/api")?Ye(t.substring(4)):t,i=await fetch(n,{method:s,headers:{},body:void 0,credentials:"include"});return await Je(i),i}const gs=({on401:s})=>async({queryKey:t})=>{const r=t[0],n=r.startsWith("/api")?Ye(r.substring(4)):r,i=await fetch(n,{credentials:"include"});return await Je(i),await i.json()},ws=new xt({defaultOptions:{queries:{queryFn:gs({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),vs=1,bs=1e6;let te=0;function js(){return te=(te+1)%Number.MAX_SAFE_INTEGER,te.toString()}const se=new Map,Ne=s=>{if(se.has(s))return;const t=setTimeout(()=>{se.delete(s),L({type:"REMOVE_TOAST",toastId:s})},bs);se.set(s,t)},ys=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,vs)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ne(r):s.toasts.forEach(n=>{Ne(n.id)}),{...s,toasts:s.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==t.toastId)}}},F=[];let B={toasts:[]};function L(s){B=ys(B,s),F.forEach(t=>{t(B)})}function Ns({...s}){const t=js(),r=i=>L({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>L({type:"DISMISS_TOAST",toastId:t});return L({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Q(){const[s,t]=a.useState(B);return a.useEffect(()=>(F.push(t),()=>{const r=F.indexOf(t);r>-1&&F.splice(r,1)}),[s]),{...s,toast:Ns,dismiss:r=>L({type:"DISMISS_TOAST",toastId:r})}}function x(...s){return Pt(St(s))}const ks=wt,et=a.forwardRef(({className:s,...t},r)=>e.jsx(Se,{ref:r,className:x("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));et.displayName=Se.displayName;const Cs=U("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tt=a.forwardRef(({className:s,variant:t,...r},n)=>e.jsx(Te,{ref:n,className:x(Cs({variant:t}),s),...r}));tt.displayName=Te.displayName;const _s=a.forwardRef(({className:s,...t},r)=>e.jsx(Ie,{ref:r,className:x("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));_s.displayName=Ie.displayName;const st=a.forwardRef(({className:s,...t},r)=>e.jsx(Ee,{ref:r,className:x("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(le,{className:"h-4 w-4"})}));st.displayName=Ee.displayName;const rt=a.forwardRef(({className:s,...t},r)=>e.jsx(Ae,{ref:r,className:x("text-sm font-semibold",s),...t}));rt.displayName=Ae.displayName;const at=a.forwardRef(({className:s,...t},r)=>e.jsx(Re,{ref:r,className:x("text-sm opacity-90",s),...t}));at.displayName=Re.displayName;function Ms(){const{toasts:s}=Q();return e.jsxs(ks,{children:[s.map(function({id:t,title:r,description:n,action:i,...c}){return e.jsxs(tt,{...c,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(rt,{children:r}),n&&e.jsx(at,{children:n})]}),i,e.jsx(st,{})]},t)}),e.jsx(et,{})]})}const Ps=vt,Ss=a.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(Oe,{ref:n,sideOffset:t,className:x("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...r}));Ss.displayName=Oe.displayName;const Ts={theme:"system",setTheme:()=>null},nt=a.createContext(Ts);function Is({children:s,defaultTheme:t="system",storageKey:r="xpswap-ui-theme",...n}){const[i,c]=a.useState(()=>localStorage.getItem(r)||t);a.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),i==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(o);return}f.classList.add(i)},[i]);const l={theme:i,setTheme:f=>{localStorage.setItem(r,f),c(f)}};return e.jsx(nt.Provider,{...n,value:l,children:s})}const Es=()=>{const s=a.useContext(nt);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},ke=()=>{if(typeof window<"u"&&window.crypto)return window.crypto;throw new Error("Crypto API not available")},_={chainId:"0x1350069",chainName:"Xphere Network",nativeCurrency:{name:"XP",symbol:"XP",decimals:18},rpcUrls:["https://rpc.xphere.io"],blockExplorerUrls:["https://explorer.xphere.io"]},Ce={XP:"0x0000000000000000000000000000000000000000",XPS:"0x1234567890123456789012345678901234567890"};class As{constructor(){this.provider=null,this.isTestMode=!0}async isZigapInstalled(){return typeof window>"u"?!1:this.isTestMode?(console.log("🧪 ZIGAP wallet in test mode"),!0):!!(window.zigap&&window.zigap.isZigap)}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async connectZigap(){if(console.log("🔗 Starting ZIGAP wallet connection..."),this.isTestMode){console.log("🧪 ZIGAP wallet test mode - returning simulated address");const t="0x742d35Cc6634C0532925a3b844Bc9e7595f89590";return setTimeout(()=>{window.dispatchEvent(new CustomEvent("zigap_connected",{detail:{address:t,chainId:_.chainId}}))},1e3),t}if(!await this.isZigapInstalled())throw this.isMobile()?(this.handleMobileZigap(),new Error("ZIGAP 앱을 열고 있습니다. 잠시 후 다시 시도해주세요.")):new Error("ZIGAP 지갑이 설치되지 않았습니다. ZIGAP을 설치해주세요.");try{this.provider=window.zigap;const t=await this.provider.request({method:"eth_requestAccounts"});if(t.length===0)throw new Error("ZIGAP 지갑에서 계정을 찾을 수 없습니다.");return await this.switchToXphereNetwork(),console.log("✅ ZIGAP wallet connected successfully:",t[0]),t[0]}catch(t){throw console.error("❌ ZIGAP connection error:",t),t.code===4001?new Error("사용자가 ZIGAP 연결을 취소했습니다."):t.code===-32002?new Error("ZIGAP 연결 요청이 이미 진행 중입니다."):new Error(`ZIGAP 지갑 연결 실패: ${t.message||t}`)}}async switchToXphereNetwork(){if(!(!this.provider||this.isTestMode))try{await this.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:_.chainId}]})}catch(t){if(t.code===4902)try{await this.provider.request({method:"wallet_addEthereumChain",params:[{chainId:_.chainId,chainName:_.chainName,nativeCurrency:_.nativeCurrency,rpcUrls:_.rpcUrls,blockExplorerUrls:_.blockExplorerUrls}]})}catch(r){throw console.error("Failed to add Xphere network:",r),new Error("Xphere 네트워크 추가에 실패했습니다.")}else throw new Error(`네트워크 전환 실패: ${t.message}`)}}handleMobileZigap(){const t=window.location.href,r=navigator.userAgent,n=`zigap://connect?url=${encodeURIComponent(t)}`;console.log("📱 Redirecting to ZIGAP mobile app..."),window.location.href=n,setTimeout(()=>{document.hidden||(r.includes("iPhone")||r.includes("iPad")?window.location.href="https://apps.apple.com/app/zigap-wallet/id123456789":r.includes("Android")&&(window.location.href="https://play.google.com/store/apps/details?id=io.zigap.wallet"))},3e3)}async getXPBalance(t){if(this.isTestMode)return"1000.0";if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{if(this.provider.getXPBalance)return await this.provider.getXPBalance();const r=await this.provider.request({method:"eth_getBalance",params:[t,"latest"]});return Kt(r)}catch(r){return console.error("Failed to get XP balance:",r),"0"}}async getXPSBalance(t){if(this.isTestMode)return"500.0";if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{if(this.provider.getXPSBalance)return await this.provider.getXPSBalance();const n=await new ve(Ce.XPS,["function balanceOf(address) view returns (uint256)"],new be(this.provider)).balanceOf(t);return Yt(n,18)}catch(r){return console.error("Failed to get XPS balance:",r),"0"}}async getZigapAccounts(){if(this.isTestMode)return["0x742d35Cc6634C0532925a3b844Bc9e7595f89590"];if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{return await this.provider.request({method:"eth_accounts"})}catch(t){return console.error("Failed to get ZIGAP accounts:",t),[]}}async getZigapChainId(){if(this.isTestMode)return parseInt(_.chainId,16);if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{const t=await this.provider.request({method:"eth_chainId"});return parseInt(t,16)}catch(t){return console.error("Failed to get ZIGAP chain ID:",t),0}}async switchZigapNetwork(t){if(this.isTestMode){console.log(`🧪 Test mode: Switching to network ${t}`);return}if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{const r="0x"+t.toString(16);await this.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch(r){if(r.code===4902)try{await this.provider.request({method:"wallet_addEthereumChain",params:[{chainId:"0x"+t.toString(16),chainName:_.chainName,nativeCurrency:_.nativeCurrency,rpcUrls:_.rpcUrls,blockExplorerUrls:_.blockExplorerUrls}]})}catch(n){throw console.error("Failed to add Xphere network:",n),new Error("Xphere 네트워크 추가에 실패했습니다.")}else throw new Error(`네트워크 전환 실패: ${r.message}`)}}async sendXP(t,r){if(this.isTestMode)return console.log(`🧪 Test mode: Sending ${r} XP to ${t}`),`0x${Array.from(ke().getRandomValues(new Uint8Array(32))).map(n=>n.toString(16).padStart(2,"0")).join("")}`;if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{if(this.provider.sendXP)return await this.provider.sendXP(t,r);const n=await this.getZigapAccounts(),i=Jt(r);return await this.provider.request({method:"eth_sendTransaction",params:[{from:n[0],to:t,value:i.toString(16)}]})}catch(n){throw console.error("XP transfer failed:",n),new Error(`XP 전송 실패: ${n.message||n}`)}}async sendXPS(t,r){if(this.isTestMode)return console.log(`🧪 Test mode: Sending ${r} XPS to ${t}`),`0x${Array.from(ke().getRandomValues(new Uint8Array(32))).map(n=>n.toString(16).padStart(2,"0")).join("")}`;if(!this.provider)throw new Error("ZIGAP 지갑이 연결되지 않았습니다.");try{if(this.provider.sendXPS)return await this.provider.sendXPS(t,r);const n=new be(this.provider).getSigner();return(await new ve(Ce.XPS,["function transfer(address to, uint256 amount) returns (bool)"],await n).transfer(t,es(r,18))).hash}catch(n){throw console.error("XPS transfer failed:",n),new Error(`XPS 전송 실패: ${n.message||n}`)}}onZigapAccountsChanged(t){if(this.isTestMode){window.addEventListener("zigap_accounts_changed",r=>{t(r.detail.accounts)});return}this.provider&&this.provider.on("accountsChanged",t)}onZigapChainChanged(t){if(this.isTestMode){window.addEventListener("zigap_chain_changed",r=>{t(r.detail.chainId)});return}this.provider&&this.provider.on("chainChanged",t)}removeZigapListener(t,r){if(this.isTestMode){window.removeEventListener(`zigap_${t}`,r);return}this.provider&&this.provider.removeListener&&this.provider.removeListener(t,r)}disconnectZigap(){this.provider&&(this.provider=null,console.log("🔌 ZIGAP wallet disconnected"))}isZigapConnected(){return this.isTestMode?!0:!!(this.provider&&this.provider.isConnected&&this.provider.isConnected())}setTestMode(t){this.isTestMode=t,console.log(`🧪 ZIGAP wallet test mode: ${t?"enabled":"disabled"}`)}}const M=new As,S=()=>typeof window<"u"&&typeof window.ethereum<"u"&&window.ethereum.isMetaMask,ot=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Rs=()=>typeof window<"u"&&window.ethereum&&window.ethereum.isMetaMask&&ot(),Os=async()=>{if(!S())throw new Error("MetaMask가 설치되지 않았습니다. MetaMask를 설치해주세요.");try{return await window.ethereum.request({method:"eth_requestAccounts"})}catch(s){throw s.code===4001?new Error("사용자가 연결 요청을 거부했습니다."):s}},Ds=async()=>{if(!S())return{isConnected:!1,accounts:[]};try{const s=await window.ethereum.request({method:"eth_accounts"});return{isConnected:s.length>0,accounts:s||[]}}catch(s){return console.error("❌ Failed to check MetaMask connection:",s),{isConnected:!1,accounts:[]}}},Xs=async()=>{if(!S())throw new Error("MetaMask가 설치되지 않았습니다.");return await window.ethereum.request({method:"eth_chainId"})},$s=async()=>{if(console.log("🦊 Starting MetaMask connection..."),ot()&&!Rs()){const s=`https://metamask.app.link/dapp/${window.location.host}${window.location.pathname}`;throw window.location.href=s,new Error("MetaMask 앱으로 이동합니다. MetaMask 앱에서 다시 연결해주세요.")}if(!S())throw new Error("MetaMask가 설치되지 않았습니다. MetaMask를 설치해주세요.");try{const s=await Os();if(s.length===0)throw new Error("MetaMask 계정을 찾을 수 없습니다.");const t=await Xs();return console.log("🦊 Current chain ID:",t),console.log("✅ MetaMask connected successfully!"),{account:s[0],chainId:t}}catch(s){throw console.error("❌ MetaMask connection failed:",s),s}},_e=s=>{S()&&window.ethereum.on("accountsChanged",s)},Me=s=>{S()&&window.ethereum.on("chainChanged",s)},Ls=()=>{S()&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))};function zs(){const{toast:s}=Q(),[t,r]=a.useState({isConnected:!1,address:null,balance:"0",chainId:null,walletType:null}),[n,i]=a.useState(!1),[c,l]=a.useState(null),f=a.useCallback(()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]),o=a.useCallback(async(u,d)=>{try{let h="0",g=null;d==="metamask"?(!T.provider&&window.ethereum&&await T.initializeProvider(),h=await T.getBalance(u),g=await T.getChainId()):d==="zigap"&&(h=await M.getXPBalance(u),g=await M.getZigapChainId()),r({isConnected:!0,address:u,balance:h,chainId:g,walletType:d}),localStorage.setItem("xpswap_wallet_connection",JSON.stringify({walletType:d,address:u,chainId:g,timestamp:Date.now(),isConnected:!0})),console.log(`✅ ${d} wallet info updated:`,{address:u.substring(0,6)+"...",balance:h,chainId:g,walletType:d})}catch(h){console.error("❌ Failed to update wallet info:",h),l("Failed to update wallet information")}},[]),p=a.useCallback(async(u="metamask")=>{i(!0),l(null);try{console.log(`🔗 Starting ${u} wallet connection...`);let d="";if(u==="metamask"){if(!S())throw f()?(window.open("https://metamask.app.link/dapp/"+window.location.host+window.location.pathname),new Error("MetaMask 앱으로 이동합니다. MetaMask 앱에서 다시 연결해주세요.")):(window.open("https://metamask.io/download/","_blank"),new Error("MetaMask가 설치되지 않았습니다. MetaMask를 설치해주세요."));d=(await $s()).account,_e(g=>{g.length===0?j():g[0]!==t.address&&o(g[0],"metamask")}),Me(g=>{window.location.reload()})}else u==="zigap"&&(d=await M.connectZigap());if(!d)throw new Error("지갑 주소를 가져올 수 없습니다.");console.log(`✅ ${u} wallet connected successfully`),await o(d,u),s({title:"🎉 연결 성공",description:`${u==="metamask"?"MetaMask":"ZIGAP"} 지갑이 성공적으로 연결되었습니다!`,variant:"default"}),u==="metamask"&&setTimeout(async()=>{try{await T.switchToXphereNetwork(),d&&(await o(d,u),s({title:"🌐 네트워크 전환",description:"Xphere 네트워크로 전환되었습니다.",variant:"default"}))}catch(h){console.warn("⚠️ Failed to switch to Xphere network:",h),s({title:"ℹ️ 네트워크 안내",description:"수동으로 Xphere 네트워크로 전환해주세요.",variant:"default"})}},1e3)}catch(d){console.error(`❌ ${u} wallet connection failed:`,d),l(d.message);let h="지갑 연결에 실패했습니다.";d.code===4001?h="사용자가 연결을 취소했습니다.":d.code===-32002?h="이미 연결 요청이 진행 중입니다. 지갑을 확인해주세요.":d.message.includes("User rejected")?h="연결 요청이 거부되었습니다.":(d.message.includes("MetaMask")||d.message.includes("ZIGAP"))&&(h=d.message),s({title:"❌ 연결 실패",description:h,variant:"destructive"})}finally{i(!1)}},[o,s,f]),j=a.useCallback(()=>{console.log("🔌 Disconnecting wallet..."),localStorage.removeItem("xpswap_wallet_connection"),sessionStorage.removeItem("xpswap_wallet_connection"),t.walletType==="metamask"&&Ls(),r(u=>({...u,isConnected:!1})),setTimeout(()=>{t.walletType==="metamask"?T.disconnect():t.walletType==="zigap"&&M.disconnectZigap(),r({isConnected:!1,address:null,balance:"0",chainId:null,walletType:null}),l(null),console.log("✅ Wallet disconnected successfully"),s({title:"🔌 연결 해제됨",description:"지갑 연결이 해제되었습니다.",variant:"default"})},300)},[t.walletType,s]),C=a.useCallback(async()=>{l(null);try{console.log("🌐 Switching to Xphere network..."),t.walletType==="metamask"?await T.switchToXphereNetwork():t.walletType==="zigap"&&await M.switchZigapNetwork(ee.chainId),t.address&&t.walletType&&await o(t.address,t.walletType),s({title:"✅ 네트워크 전환 완료",description:"Xphere 네트워크로 성공적으로 전환되었습니다.",variant:"default"}),console.log("✅ Network switched to Xphere successfully")}catch(u){console.error("❌ Network switch failed:",u),l(u.message);let d="네트워크 전환에 실패했습니다.";u.code===4001?d="사용자가 네트워크 전환을 취소했습니다.":u.code===4902&&(d="Xphere 네트워크를 추가하는 중 오류가 발생했습니다."),s({title:"❌ 네트워크 전환 실패",description:d,variant:"destructive"})}},[t.address,t.walletType,o,s]);a.useEffect(()=>{const u=h=>{console.log("🔄 Wallet accounts changed:",h),h.length===0?(console.log("🔌 User disconnected from wallet"),localStorage.removeItem("xpswap_wallet_connection"),sessionStorage.removeItem("xpswap_wallet_connection"),j(),s({title:"🔌 연결 해제됨",description:"지갑에서 연결이 해제되었습니다.",variant:"default"})):h[0]!==t.address&&t.walletType&&(console.log("🔄 User switched accounts"),o(h[0],t.walletType),s({title:"🔄 계정 변경됨",description:"지갑 계정이 변경되었습니다.",variant:"default"}))},d=h=>{const g=parseInt(h,16);console.log("🌐 Network changed:",g),r(E=>({...E,chainId:g})),t.address&&t.walletType&&o(t.address,t.walletType);const I=g===ee.chainId?"Xphere":`Chain ${g}`;s({title:"🌐 네트워크 변경됨",description:`${I} 네트워크로 변경되었습니다.`,variant:"default"})};return typeof window.ethereum<"u"&&(window.ethereum.on("accountsChanged",u),window.ethereum.on("chainChanged",d)),M.isZigapConnected()&&(M.onZigapAccountsChanged(u),M.onZigapChainChanged(d)),()=>{typeof window.ethereum<"u"&&(window.ethereum.removeListener("accountsChanged",u),window.ethereum.removeListener("chainChanged",d)),M.removeZigapListener("accountsChanged",u),M.removeZigapListener("chainChanged",d)}},[t.address,t.walletType,t.isConnected,o,j,s]),a.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("xpswap_wallet_connection");if(!d){console.log("📌 No previous wallet connection found");return}const{walletType:h,address:g,timestamp:I}=JSON.parse(d);if(Date.now()-I>864e5){console.log("📌 Previous connection too old, clearing..."),localStorage.removeItem("xpswap_wallet_connection");return}if(console.log("🔄 Restoring wallet connection:",{walletType:h,address:g.substring(0,6)+"..."}),h==="metamask"){if(!S()){console.log("❌ MetaMask not installed, clearing connection"),localStorage.removeItem("xpswap_wallet_connection");return}const y=await Ds();if(!y.isConnected||y.accounts.length===0){console.log("❌ MetaMask not connected, clearing connection"),localStorage.removeItem("xpswap_wallet_connection");return}const z=y.accounts[0];if(z.toLowerCase()!==g.toLowerCase()){console.log("❌ Account changed, updating to current account"),await o(z,h);return}await T.initializeProvider(),await o(g,h),_e(A=>{A.length===0?j():A[0]!==t.address&&o(A[0],"metamask")}),Me(A=>{window.location.reload()})}else if(h==="zigap"){if(!M.isZigapConnected()){console.log("❌ ZIGAP not connected, clearing connection"),localStorage.removeItem("xpswap_wallet_connection");return}await o(g,h)}console.log("✅ Wallet connection restored successfully")}catch(d){console.error("❌ Failed to restore wallet connection:",d),localStorage.removeItem("xpswap_wallet_connection")}})()},[]),a.useEffect(()=>{if(c){const u=setTimeout(()=>{l(null)},1e4);return()=>clearTimeout(u)}},[c]);const P=t.chainId===ee.chainId;return{wallet:t,isConnecting:n,error:c,isXphereNetwork:P,isMobile:f(),connectWallet:p,disconnectWallet:j,switchToXphere:C,clearError:()=>l(null)}}const it=a.createContext(void 0);function Zs({children:s}){const t=zs();return e.jsx(it.Provider,{value:t,children:s})}function ce(){const s=a.useContext(it);if(s===void 0)throw new Error("useWeb3Context must be used within a Web3Provider");return s}const lt=yt,Vr=Nt,Fs=bt,ct=a.forwardRef(({className:s,...t},r)=>e.jsx(De,{ref:r,className:x("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));ct.displayName=De.displayName;const de=a.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(Fs,{children:[e.jsx(ct,{}),e.jsxs(Xe,{ref:n,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[t,e.jsxs(jt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));de.displayName=Xe.displayName;const me=({className:s,...t})=>e.jsx("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});me.displayName="DialogHeader";const ue=a.forwardRef(({className:s,...t},r)=>e.jsx($e,{ref:r,className:x("text-lg font-semibold leading-none tracking-tight",s),...t}));ue.displayName=$e.displayName;const Bs=a.forwardRef(({className:s,...t},r)=>e.jsx(Le,{ref:r,className:x("text-sm text-muted-foreground",s),...t}));Bs.displayName=Le.displayName;const Ws=U("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=a.forwardRef(({className:s,variant:t,size:r,asChild:n=!1,...i},c)=>{const l=n?kt:"button";return e.jsx(l,{className:x(Ws({variant:t,size:r,className:s})),ref:c,...i})});N.displayName="Button";const Vs=U("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),W=a.forwardRef(({className:s,variant:t,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:x(Vs({variant:t}),s),...r}));W.displayName="Alert";const Gs=a.forwardRef(({className:s,...t},r)=>e.jsx("h5",{ref:r,className:x("mb-1 font-medium leading-none tracking-tight",s),...t}));Gs.displayName="AlertTitle";const V=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("text-sm [&_p]:leading-relaxed",s),...t}));V.displayName="AlertDescription";const qs=U("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $({className:s,variant:t,...r}){return e.jsx("div",{className:x(qs({variant:t}),s),...r})}const ne=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));ne.displayName="Card";const Us=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("flex flex-col space-y-1.5 p-6",s),...t}));Us.displayName="CardHeader";const Qs=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("text-2xl font-semibold leading-none tracking-tight",s),...t}));Qs.displayName="CardTitle";const Hs=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("text-sm text-muted-foreground",s),...t}));Hs.displayName="CardDescription";const oe=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("p-6 pt-0",s),...t}));oe.displayName="CardContent";const Ks=a.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:x("flex items-center p-6 pt-0",s),...t}));Ks.displayName="CardFooter";function Ys({isOpen:s,onClose:t,onConnected:r}){const{toast:n}=Q(),[i,c]=a.useState("detect"),[l,f]=a.useState(!1),[o,p]=a.useState(""),[j,C]=a.useState(!1);a.useEffect(()=>{typeof window<"u"&&(p(navigator.userAgent),P())},[]);const P=()=>{const y=typeof window.ethereum<"u"&&window.ethereum.isMetaMask;f(y),c(y?"connect":"install")},u=()=>/iPad|iPhone|iPod/.test(o),d=()=>/Android/.test(o),h=()=>{let y="";u()?y="https://apps.apple.com/app/metamask/id1438144202":d()?y="https://play.google.com/store/apps/details?id=io.metamask":y="https://metamask.io/download/",window.open(y,"_blank"),n({title:"📲 앱 스토어로 이동",description:"MetaMask 앱을 설치한 후 다시 시도해주세요.",variant:"default"})},g=()=>{C(!0);const y=`https://metamask.app.link/dapp/${window.location.host}`;window.location.href=y,setTimeout(()=>{C(!1),n({title:"🔗 MetaMask 앱 연결",description:"MetaMask 앱에서 연결을 승인해주세요.",variant:"default"})},2e3)},I=async()=>{C(!0);try{if(!window.ethereum){c("install");return}(await window.ethereum.request({method:"eth_requestAccounts"})).length>0&&(c("connected"),r(),n({title:"✅ 연결 완료",description:"MetaMask가 성공적으로 연결되었습니다!",variant:"default"}),setTimeout(()=>{t()},2e3))}catch(y){console.error("Mobile MetaMask connection error:",y),y.code===4001?n({title:"❌ 연결 취소",description:"사용자가 연결을 취소했습니다.",variant:"destructive"}):n({title:"❌ 연결 실패",description:"MetaMask 연결에 실패했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{C(!1)}},E=()=>{switch(i){case"install":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-100 to-orange-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pe,{className:"w-10 h-10 text-orange-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"MetaMask 설치 필요"}),e.jsx("p",{className:"text-gray-600",children:"XpSwap을 사용하려면 MetaMask 앱이 필요합니다."})]}),e.jsx(ne,{className:"border-orange-200 bg-gradient-to-br from-orange-50 to-yellow-50",children:e.jsxs(oe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-semibold text-orange-800",children:"모바일 앱 다운로드"})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-6",children:[u()?"App Store":d()?"Google Play Store":"앱 스토어","에서 MetaMask 앱을 다운로드하세요."]}),e.jsxs(N,{onClick:h,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-medium py-3",children:[e.jsx(pe,{className:"w-5 h-5 mr-2"}),"MetaMask 설치하기"]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs(N,{variant:"outline",onClick:()=>window.location.reload(),className:"text-sm px-6 py-2 border-orange-300 text-orange-700 hover:bg-orange-50",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"설치 완료 후 새로고침"]})})]});case"connect":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(q,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:"MetaMask 연결"}),e.jsx("p",{className:"text-gray-600",children:"MetaMask 앱에 연결하여 XpSwap을 사용하세요."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(N,{onClick:g,disabled:j,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium py-4",children:[j?e.jsx(Z,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(Qe,{className:"w-5 h-5 mr-2"}),"MetaMask 앱에서 열기"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"또는"})})]}),e.jsxs(N,{onClick:I,variant:"outline",disabled:j,className:"w-full border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 py-4",children:[j?e.jsx(Z,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(q,{className:"w-5 h-5 mr-2"}),"직접 연결하기"]})]}),e.jsx(ne,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsx(oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"연결 방법"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:'"MetaMask 앱에서 열기"를 클릭하세요'})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:'MetaMask 앱에서 "연결" 버튼을 눌러주세요'})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:"자동으로 XpSwap으로 돌아옵니다"})]})]})]})]})})})]});case"connected":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-200 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ae,{className:"w-10 h-10 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-green-800",children:"연결 완료!"}),e.jsx("p",{className:"text-gray-600",children:"MetaMask가 성공적으로 연결되었습니다."})]}),e.jsx("div",{className:"text-center",children:e.jsx($,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50 px-4 py-2",children:"✅ 연결됨"})}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"준비 완료"}),e.jsx("p",{className:"text-sm text-green-700",children:"이제 XpSwap의 모든 기능을 사용할 수 있습니다."})]})]})})]});default:return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"w-10 h-10 text-gray-400 animate-spin"})}),e.jsx("p",{className:"text-gray-500",children:"MetaMask 상태를 확인 중..."})]})}};return e.jsx(lt,{open:s,onOpenChange:t,children:e.jsxs(de,{className:"max-w-md mx-4",children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center gap-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[e.jsx(re,{className:"w-6 h-6 text-blue-600"}),"모바일 MetaMask 연결"]})}),e.jsx("div",{className:"py-2",children:E()})]})})}function Js({isOpen:s,onClose:t}){const{wallet:r,connectWallet:n,disconnectWallet:i,isConnecting:c,error:l,isXphereNetwork:f,switchToXphere:o}=ce(),{toast:p}=Q(),[j,C]=a.useState(null),[P,u]=a.useState(!1),[d,h]=a.useState("disconnected"),g=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);a.useEffect(()=>{r.isConnected?h("connected"):h(c?"connecting":"disconnected")},[r.isConnected,c]);const I=async b=>{C(b);try{if(b==="metamask"){if(g()){u(!0),t();return}await n("metamask"),p({title:"✅ 연결 성공",description:"MetaMask가 성공적으로 연결되었습니다!",variant:"default"}),t()}else b==="zigap"?(await n("zigap"),p({title:"✅ 연결 성공",description:"ZIGAP 지갑이 성공적으로 연결되었습니다!",variant:"default"}),t()):p({title:"🚧 개발 중",description:`${b} 연동을 준비 중입니다!`,variant:"default"})}catch(he){console.error("Connection failed:",he),p({title:"❌ 연결 실패",description:he.message||"지갑 연결에 실패했습니다.",variant:"destructive"})}finally{C(null)}},E=()=>{i(),p({title:"🔌 연결 해제",description:"지갑 연결이 해제되었습니다.",variant:"default"}),t()},y=()=>{u(!1),t()},z=()=>{r.address&&(navigator.clipboard.writeText(r.address),p({title:"📋 복사 완료",description:"지갑 주소가 클립보드에 복사되었습니다.",variant:"default"}))},A=b=>`${b.substring(0,6)}...${b.substring(b.length-4)}`,dt=[{id:"metamask",name:"MetaMask",description:"가장 인기 있는 Web3 지갑",icon:e.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),available:typeof window<"u"&&typeof window.ethereum<"u",recommended:!0},{id:"zigap",name:"ZIGAP Wallet",description:"Xphere 네트워크 전용 지갑",icon:e.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white text-sm font-bold",children:"Z"}),available:!0,comingSoon:!1},{id:"walletconnect",name:"WalletConnect",description:"다양한 모바일 지갑 지원",icon:e.jsx("div",{className:"w-8 h-8 rounded-xl bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center",children:e.jsx(Qe,{className:"w-5 h-5 text-white"})}),available:!1,comingSoon:!0}];return e.jsxs(e.Fragment,{children:[e.jsx(lt,{open:s,onOpenChange:t,children:e.jsxs(de,{className:"sm:max-w-lg max-w-[95vw]",children:[e.jsx(me,{className:"text-center",children:e.jsx(ue,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:r.isConnected?"지갑 정보":"지갑 연결"})}),e.jsx("div",{className:"space-y-6",children:r.isConnected?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-800",children:"연결됨"})]}),e.jsx($,{variant:"outline",className:"text-green-700 border-green-300",children:r.walletType==="metamask"?"MetaMask":r.walletType==="zigap"?"ZIGAP":"연결됨"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"주소:"}),e.jsx("code",{className:"bg-white px-2 py-1 rounded text-sm border",children:A(r.address||"")}),e.jsx(N,{variant:"ghost",size:"sm",onClick:z,className:"h-8 w-8 p-0",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"잔액:"}),e.jsxs("span",{className:"font-mono text-sm",children:[parseFloat(r.balance).toFixed(4)," XP"]})]})]}),e.jsxs("div",{className:`border rounded-xl p-4 ${f?"bg-blue-50 border-blue-200":"bg-yellow-50 border-yellow-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f?e.jsx(It,{className:"w-5 h-5 text-blue-600"}):e.jsx(Et,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:`font-medium ${f?"text-blue-800":"text-yellow-800"}`,children:f?"Xphere 네트워크":"네트워크 전환 필요"})]}),!f&&e.jsx(N,{variant:"outline",size:"sm",onClick:o,className:"border-yellow-400 text-yellow-700 hover:bg-yellow-100",children:"전환하기"})]}),!f&&e.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"XpSwap을 사용하려면 Xphere 네트워크로 전환해주세요."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(N,{variant:"outline",onClick:E,className:"flex-1 border-red-200 text-red-700 hover:bg-red-50",children:"연결 해제"}),e.jsx(N,{onClick:t,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:"확인"})]})]}):e.jsxs("div",{className:"space-y-4",children:[l&&e.jsxs(W,{variant:"destructive",className:"border-red-200",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx(V,{className:"font-medium",children:l})]}),g()&&e.jsxs(W,{className:"border-blue-200 bg-blue-50",children:[e.jsx(re,{className:"h-4 w-4 text-blue-600"}),e.jsxs(V,{children:[e.jsx("p",{className:"font-medium mb-1 text-blue-800",children:"모바일 사용자"}),e.jsx("p",{className:"text-sm text-blue-700",children:"모바일에서 MetaMask를 사용하시는 경우, 최적화된 연결 방법을 제공합니다."})]})]}),e.jsx("div",{className:"space-y-3",children:dt.map(b=>e.jsxs(N,{variant:"outline",className:`w-full justify-between p-4 h-auto border-2 transition-all duration-200 ${b.available?"hover:border-blue-300 hover:bg-blue-50":"opacity-60"} ${j===b.id?"border-blue-400 bg-blue-50":""}`,onClick:()=>b.available&&I(b.id),disabled:!b.available||c||j===b.id,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[b.icon,e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[b.name,b.recommended&&e.jsx($,{variant:"secondary",className:"text-xs bg-green-100 text-green-700",children:"추천"}),b.id==="metamask"&&g()&&e.jsx($,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:"모바일 최적화"})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:b.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[b.comingSoon&&e.jsx($,{variant:"outline",className:"text-xs text-gray-500",children:"준비 중"}),j===b.id&&e.jsx(At,{className:"w-4 h-4 animate-spin text-blue-600"})]})]},b.id))}),e.jsxs(W,{className:"border-orange-200 bg-orange-50",children:[e.jsx(xe,{className:"h-4 w-4 text-orange-600"}),e.jsxs(V,{children:[e.jsx("p",{className:"font-medium mb-1 text-orange-800",children:"네트워크 설정 안내"}),e.jsx("p",{className:"text-sm text-orange-700",children:"XpSwap을 사용하려면 Xphere 네트워크 (Chain ID: 20250217)를 지갑에 추가해야 합니다. 연결 시 자동으로 안내됩니다."})]})]})]})})]})}),e.jsx(Ys,{isOpen:P,onClose:()=>u(!1),onConnected:y})]})}const er="/xpswap/api";function tr(s){const t=s.startsWith("/")?s.slice(1):s;return t.startsWith("http://")||t.startsWith("https://")?s:t.startsWith("api/")?`${er}/${t.slice(4)}`:s}function sr(){const[s,t]=a.useState(!1),{data:r,isLoading:n}=xs({queryKey:["crypto-ticker"],queryFn:async()=>{const o=await fetch(tr("api/crypto-ticker"));if(!o.ok)throw new Error("Failed to fetch ticker data");return await o.json()},refetchInterval:15e3});if(n||!r)return null;const i=r.tickers||[],c=(o,p)=>p==="XP"?`$${o.toFixed(6)}`:o>=1e3?`$${(o/1e3).toFixed(1)}K`:o>=1?`$${o.toFixed(2)}`:`$${o.toFixed(4)}`,l=o=>`${o>=0?"+":""}${o.toFixed(2)}%`,f=[...i,...i];return e.jsx("div",{className:"w-full bg-gradient-to-r from-slate-900/90 via-slate-800/90 to-slate-900/90 dark:from-slate-950/90 dark:via-slate-900/90 dark:to-slate-950/90 backdrop-blur-md border-b border-slate-700/50 overflow-hidden relative shadow-lg",children:e.jsx("div",{className:`flex whitespace-nowrap ${s?"":"animate-scroll-ticker"}`,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:f.map((o,p)=>e.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 min-w-fit hover:bg-white/5 transition-colors duration-200 rounded-lg mx-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:o.iconUrl,alt:o.name,className:"w-5 h-5 rounded-full shadow-sm",onError:j=>{j.currentTarget.style.display="none",j.currentTarget.nextElementSibling.style.display="inline"}}),e.jsx("span",{className:"text-lg hidden",children:o.symbol}),e.jsx("span",{className:"font-bold text-white/90 text-sm tracking-wide",children:o.symbol})]}),e.jsx("span",{className:"font-mono text-sm font-medium text-white/80",children:c(o.price,o.symbol)}),e.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full border ${o.change24h>=0?"text-green-300 bg-green-500/20 border-green-500/30":"text-red-300 bg-red-500/20 border-red-500/30"}`,children:l(o.change24h)})]},`${o.id}-${p}`))})})}function rr({isMobileMenuOpen:s,setIsMobileMenuOpen:t,onWalletClick:r}){const{theme:n,setTheme:i}=Es(),{wallet:c,isConnecting:l}=ce(),f=()=>{i(n==="dark"?"light":"dark")},o=p=>`${p.slice(0,6)}...${p.slice(-4)}`;return e.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-8",children:e.jsx(m,{href:"/",children:e.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("div",{className:"p-1 rounded-xl bg-gradient-to-r from-primary/10 to-purple-500/10 group-hover:from-primary/20 group-hover:to-purple-500/20 transition-all duration-300",children:e.jsx("img",{src:"https://rebel-orangutan-6f0.notion.site/image/attachment%3Aea1e41e5-28b3-486e-bc20-978f86c7e213%3Alogo_xps3.png?table=block&id=22fa68fd-c4b9-80a2-93a5-edbcfa276af7&spaceId=5cba68fd-c4b9-81bc-873e-0003fe11fd03&width=860&userId=&cache=v2",alt:"XPS",className:"w-7 h-7 rounded-lg"})}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary via-purple-500 to-primary bg-clip-text text-transparent group-hover:from-purple-500 group-hover:via-primary group-hover:to-purple-500 transition-all duration-300",children:"XpSwap"})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-sm shadow-green-500/50"}),e.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Xphere"})]}),e.jsx(N,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full hover:bg-muted/80 transition-all duration-300 hover:scale-105",children:n==="dark"?e.jsx(Rt,{className:"h-4 w-4"}):e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx(N,{onClick:r,className:"bg-gradient-to-r from-primary to-purple-600 hover:from-purple-600 hover:to-primary transition-all duration-300 rounded-full px-4 py-2 text-white font-medium shadow-lg hover:shadow-xl hover:scale-105",disabled:l,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:l?"연결 중...":c.isConnected?o(c.address):"지갑 연결"}),l&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),e.jsx(N,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-muted/80 transition-all duration-300 hover:scale-105",onClick:()=>t(!s),children:s?e.jsx(le,{className:"h-4 w-4"}):e.jsx(Dt,{className:"h-4 w-4"})})]})]})})})}const D=_t,X=Mt,ar=a.forwardRef(({className:s,inset:t,children:r,...n},i)=>e.jsxs(ze,{ref:i,className:x("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...n,children:[r,e.jsx(Xt,{className:"ml-auto"})]}));ar.displayName=ze.displayName;const nr=a.forwardRef(({className:s,...t},r)=>e.jsx(Ze,{ref:r,className:x("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...t}));nr.displayName=Ze.displayName;const R=a.forwardRef(({className:s,sideOffset:t=4,...r},n)=>e.jsx(Ct,{children:e.jsx(Fe,{ref:n,sideOffset:t,className:x("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...r})}));R.displayName=Fe.displayName;const k=a.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(Be,{ref:n,className:x("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...r}));k.displayName=Be.displayName;const or=a.forwardRef(({className:s,children:t,checked:r,...n},i)=>e.jsxs(We,{ref:i,className:x("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ve,{children:e.jsx($t,{className:"h-4 w-4"})})}),t]}));or.displayName=We.displayName;const ir=a.forwardRef(({className:s,children:t,...r},n)=>e.jsxs(Ge,{ref:n,className:x("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ve,{children:e.jsx(Lt,{className:"h-2 w-2 fill-current"})})}),t]}));ir.displayName=Ge.displayName;const G=a.forwardRef(({className:s,inset:t,...r},n)=>e.jsx(qe,{ref:n,className:x("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...r}));G.displayName=qe.displayName;const ie=a.forwardRef(({className:s,...t},r)=>e.jsx(Ue,{ref:r,className:x("-mx-1 my-1 h-px bg-muted",s),...t}));ie.displayName=Ue.displayName;function lr(){const[s,t]=Pe(),r=n=>!!s.startsWith(n);return e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsxs(D,{children:[e.jsx(X,{asChild:!0,children:e.jsx(N,{variant:"ghost",className:"text-sm font-medium text-muted-foreground hover:text-primary p-0 h-auto",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-4 h-4"}),"Swap",e.jsx(O,{className:"w-3 h-3"})]})})}),e.jsxs(R,{align:"start",className:"w-56",children:[e.jsx(G,{children:"Basic Trading"}),e.jsxs(k,{onClick:()=>t("/swap"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(K,{className:"w-4 h-4"}),"Simple Swap"]}),e.jsxs(k,{onClick:()=>t("/trading"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Y,{className:"w-4 h-4"}),"Advanced Trading"]}),e.jsx(ie,{}),e.jsx(G,{children:"Options and Futures"}),e.jsxs(k,{onClick:()=>t("/options"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(zt,{className:"w-4 h-4"}),"Options Trading"]}),e.jsxs(k,{onClick:()=>t("/futures"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Zt,{className:"w-4 h-4"}),"Perpetual Futures"]}),e.jsxs(k,{onClick:()=>t("/flashloans"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(fe,{className:"w-4 h-4"}),"Flash Loans"]}),e.jsx(ie,{}),e.jsx(G,{children:"Cross-Chain"}),e.jsxs(k,{onClick:()=>t("/bridge"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Bridge Assets"]}),e.jsxs(k,{onClick:()=>t("/atomic-swap"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(K,{className:"w-4 h-4"}),"Atomic Swap"]})]})]}),e.jsxs(D,{children:[e.jsx(X,{asChild:!0,children:e.jsx(N,{variant:"ghost",className:"text-sm font-medium text-muted-foreground hover:text-primary p-0 h-auto",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:"w-4 h-4"}),"DeFi",e.jsx(O,{className:"w-3 h-3"})]})})}),e.jsxs(R,{align:"start",className:"w-48",children:[e.jsxs(k,{onClick:()=>t("/pool"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(ge,{className:"w-4 h-4"}),"Liquidity Pools"]}),e.jsxs(k,{onClick:()=>t("/farm"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(we,{className:"w-4 h-4"}),"Yield Farming"]})]})]}),e.jsxs(D,{children:[e.jsx(X,{asChild:!0,children:e.jsx(N,{variant:"ghost",className:"text-sm font-medium text-muted-foreground hover:text-primary p-0 h-auto",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-4 h-4"}),"XPS",e.jsx(O,{className:"w-3 h-3"})]})})}),e.jsxs(R,{align:"start",className:"w-48",children:[e.jsxs(k,{onClick:()=>t("/xps-purchase"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Bt,{className:"w-4 h-4"}),"Buy XPS Token"]}),e.jsxs(k,{onClick:()=>t("/xps-staking"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Wt,{className:"w-4 h-4"}),"XPS Staking"]}),e.jsxs(k,{onClick:()=>t("/governance"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Vt,{className:"w-4 h-4"}),"Governance"]})]})]}),e.jsxs(D,{children:[e.jsx(X,{asChild:!0,children:e.jsx(N,{variant:"ghost",className:"text-sm font-medium text-muted-foreground hover:text-primary p-0 h-auto",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-4 h-4"}),"Minting",e.jsx(O,{className:"w-3 h-3"})]})})}),e.jsxs(R,{align:"start",className:"w-48",children:[e.jsxs(k,{onClick:()=>t("/minting"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(J,{className:"w-4 h-4"}),"XIP-20 Mint"]}),e.jsxs(k,{onClick:()=>t("/memecoin"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(fe,{className:"w-4 h-4"}),"MemeCoin"]})]})]}),e.jsxs(D,{children:[e.jsx(X,{asChild:!0,children:e.jsx(N,{variant:"ghost",className:"text-sm font-medium text-muted-foreground hover:text-primary p-0 h-auto",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4"}),"Analytics",e.jsx(O,{className:"w-3 h-3"})]})})}),e.jsxs(R,{align:"start",className:"w-48",children:[e.jsxs(k,{onClick:()=>t("/analytics"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(Y,{className:"w-4 h-4"}),"Analytics"]}),e.jsxs(k,{onClick:()=>t("/multichain-portfolio"),className:"flex items-center gap-2 w-full cursor-pointer",children:[e.jsx(we,{className:"w-4 h-4"}),"Portfolio"]})]})]}),e.jsx(m,{href:"/security",children:e.jsx(N,{variant:"ghost",className:`text-sm font-medium p-0 h-auto ${r("/security")?"text-primary":"text-muted-foreground hover:text-primary"}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Security"]})})})]})}function cr({isOpen:s,onClose:t,isActivePage:r}){return s?e.jsx("div",{className:"md:hidden bg-background/95 backdrop-blur-lg border-t border-border/50",children:e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-sm shadow-green-500/50"}),e.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Xphere Network"})]}),e.jsxs("nav",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"Swap"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/swap",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/swap")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Simple Swap"})}),e.jsx(m,{href:"/trading",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/trading")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Advanced Trading"})}),e.jsx(m,{href:"/bridge",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/bridge")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Bridge Assets"})}),e.jsx(m,{href:"/atomic-swap",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/atomic-swap")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Atomic Swap"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"Options and Futures"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/options",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/options")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Options Trading"})}),e.jsx(m,{href:"/futures",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/futures")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Perpetual Futures"})}),e.jsx(m,{href:"/flashloans",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/flashloans")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Flash Loans"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"DeFi"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/pool",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/pool")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Liquidity Pools"})}),e.jsx(m,{href:"/farm",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/farm")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Yield Farming"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"XPS"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/xps-purchase",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/xps-purchase")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Buy XPS Token"})}),e.jsx(m,{href:"/xps-staking",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/xps-staking")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"XPS Staking"})}),e.jsx(m,{href:"/governance",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/governance")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Governance"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"Create Token"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/minting",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/minting")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"XIP-20 Mint"})}),e.jsx(m,{href:"/memecoin",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/memecoin")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"MemeCoin"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"Analytics"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(m,{href:"/analytics",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/analytics")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Analytics"})}),e.jsx(m,{href:"/multichain-portfolio",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/multichain-portfolio")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Portfolio"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2 px-3",children:"Security"}),e.jsx("div",{className:"space-y-1",children:e.jsx(m,{href:"/security",onClick:t,children:e.jsx("div",{className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r("/security")?"bg-primary/10 text-primary":"text-muted-foreground hover:text-primary hover:bg-muted"}`,children:"Security Dashboard"})})})]})]})]})}):null}function dr(){return e.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-1 rounded-xl bg-gradient-to-r from-purple-500/10 to-blue-500/10",children:e.jsx("img",{src:"https://rebel-orangutan-6f0.notion.site/image/attachment%3Aea1e41e5-28b3-486e-bc20-978f86c7e213%3Alogo_xps3.png?table=block&id=22fa68fd-c4b9-80a2-93a5-edbcfa276af7&spaceId=5cba68fd-c4b9-81bc-873e-0003fe11fd03&width=860&userId=&cache=v2",alt:"XPS",className:"w-8 h-8 rounded-lg"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"XpSwap"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-xs",children:"Next-generation DeFi platform on Xphere Network"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Live on Xphere"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Security Audited"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:"Trading"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:e.jsx(m,{href:"/swap",children:e.jsx("a",{className:"hover:text-purple-600",children:"🔄 Simple Swap"})})}),e.jsx("li",{children:e.jsx(m,{href:"/trading",children:e.jsx("a",{className:"hover:text-purple-600",children:"📊 Advanced Trading"})})}),e.jsx("li",{children:e.jsx(m,{href:"/bridge",children:e.jsx("a",{className:"hover:text-purple-600",children:"🌉 Bridge Assets"})})}),e.jsx("li",{children:e.jsx(m,{href:"/atomic-swap",children:e.jsx("a",{className:"hover:text-purple-600",children:"⚡ Atomic Swap"})})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:"DeFi & Tools"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:e.jsx(m,{href:"/pool",children:e.jsx("a",{className:"hover:text-purple-600",children:"💧 Liquidity Pools"})})}),e.jsx("li",{children:e.jsx(m,{href:"/farm",children:e.jsx("a",{className:"hover:text-purple-600",children:"🌱 Yield Farming"})})}),e.jsx("li",{children:e.jsx(m,{href:"/xps-staking",children:e.jsx("a",{className:"hover:text-purple-600",children:"💎 XPS Staking"})})}),e.jsx("li",{children:e.jsx(m,{href:"/xps-purchase",children:e.jsx("a",{className:"hover:text-purple-600",children:"🛒 Buy XPS Token"})})}),e.jsx("li",{children:e.jsx(m,{href:"/governance",children:e.jsx("a",{className:"hover:text-purple-600",children:"🗳️ Governance"})})}),e.jsx("li",{children:e.jsx(m,{href:"/minting",children:e.jsx("a",{className:"hover:text-purple-600",children:"🪙 Token Minting"})})}),e.jsx("li",{children:e.jsx(m,{href:"/memecoin",children:e.jsx("a",{className:"hover:text-purple-600",children:"🔥 MemeCoin"})})}),e.jsx("li",{children:e.jsx(m,{href:"/analytics",children:e.jsx("a",{className:"hover:text-purple-600",children:"📈 Analytics"})})}),e.jsx("li",{children:e.jsx(m,{href:"/multichain-portfolio",children:e.jsx("a",{className:"hover:text-purple-600",children:"💼 Portfolio"})})}),e.jsx("li",{children:e.jsx(m,{href:"/security",children:e.jsx("a",{className:"hover:text-purple-600",children:"🛡️ Security"})})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:"Advanced Trading"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:e.jsx(m,{href:"/options",children:e.jsx("a",{className:"hover:text-purple-600",children:"🎯 Options"})})}),e.jsx("li",{children:e.jsx(m,{href:"/futures",children:e.jsx("a",{className:"hover:text-purple-600",children:"⚡ Futures"})})}),e.jsx("li",{children:e.jsx(m,{href:"/flashloans",children:e.jsx("a",{className:"hover:text-purple-600",children:"💸 Flash Loans"})})})]}),e.jsx("h3",{className:"font-semibold mb-4 mt-6 text-gray-900 dark:text-white",children:"Community"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"https://x.com/xpsproject",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-gradient-to-r from-blue-500/10 to-blue-600/10 hover:from-blue-500/20 hover:to-blue-600/20 transition-all duration-300 hover:scale-110",children:e.jsx(qt,{className:"w-4 h-4 text-blue-500"})}),e.jsx("a",{href:"https://t.me/xpscommunity",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-gradient-to-r from-blue-400/10 to-cyan-500/10 hover:from-blue-400/20 hover:to-cyan-500/20 transition-all duration-300 hover:scale-110",children:e.jsx(Ut,{className:"w-4 h-4 text-blue-400"})}),e.jsx("a",{href:"https://github.com/xpswap",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-gradient-to-r from-gray-600/10 to-gray-700/10 hover:from-gray-600/20 hover:to-gray-700/20 transition-all duration-300 hover:scale-110",children:e.jsx(Qt,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("a",{href:"https://trendy.storydot.kr",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 transition-all duration-300 hover:scale-110",children:e.jsx(Ht,{className:"w-4 h-4 text-purple-500"})})]})]})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"© 2025 XpSwap. All rights reserved."}),e.jsxs("div",{className:"flex gap-6 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(m,{href:"/privacy-policy",children:e.jsx("a",{className:"hover:text-purple-600",children:"Privacy Policy"})}),e.jsx(m,{href:"/terms-of-service",children:e.jsx("a",{className:"hover:text-purple-600",children:"Terms of Service"})}),e.jsx(m,{href:"/bug-bounty",children:e.jsx("a",{className:"hover:text-purple-600",children:"Bug Bounty"})})]})]})]})})}function mr({children:s}){const{wallet:t,isConnecting:r,connectWallet:n,disconnectWallet:i}=ce(),[c,l]=a.useState(!1),[f,o]=a.useState(!1),[p]=Pe(),j=()=>{l(!0)},C=P=>!!(P==="/"&&p==="/"||P!=="/"&&p.startsWith(P));return a.useEffect(()=>{o(!1)},[p]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(sr,{}),e.jsx(rr,{isMobileMenuOpen:f,setIsMobileMenuOpen:o,onWalletClick:j}),e.jsx("div",{className:"sticky top-16 z-40 bg-background/95 backdrop-blur-lg border-b border-border/50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-center h-14",children:e.jsx(lr,{})})})}),e.jsx(cr,{isOpen:f,onClose:()=>o(!1),isActivePage:C}),e.jsx("main",{className:"flex-1",children:s}),e.jsx(dr,{}),e.jsx(Js,{isOpen:c,onClose:()=>l(!1),wallet:t,isConnecting:r,onConnect:n,onDisconnect:i})]})}const ur=a.lazy(()=>v(()=>import("./home-DmCl1lAq.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),hr=a.lazy(()=>v(()=>import("./swap-C-bidiBf.js"),__vite__mapDeps([9,1,2,3,10,7,11,12,13,8,14,4,15,16,17,18,5]))),pr=a.lazy(()=>v(()=>import("./trading-Vfav2PYx.js"),__vite__mapDeps([19,2,1,3,17,7,11,20,10,21,13,8,5]))),xr=a.lazy(()=>v(()=>import("./pool-D6dVHIDX.js"),__vite__mapDeps([22,1,2,3,11,10,7,17,4,14,15,13,8,5]))),fr=a.lazy(()=>v(()=>import("./farm-BljNkKIO.js"),__vite__mapDeps([23,1,2,3,11,10,7,15,13,8,4,5]))),gr=a.lazy(()=>v(()=>import("./bridge-C96csn5Q.js"),__vite__mapDeps([24,1,2,3,4,18,14,15,17,7,8,11,13,5]))),wr=a.lazy(()=>v(()=>import("./atomic-swap-B7UDz-4K.js"),__vite__mapDeps([25,1,2,3,11,20,7,17,10,4,5,8]))),vr=a.lazy(()=>v(()=>import("./governance-C4RAPeO-.js"),__vite__mapDeps([26,1,2,3,6,7,27,11,20,17,10,4,15,5,8]))),br=a.lazy(()=>v(()=>import("./analytics-DFGy4L9u.js"),__vite__mapDeps([28,1,2,3,10,7,17,15,6,13,8,5]))),jr=a.lazy(()=>v(()=>import("./security-O7e-KSdX.js"),__vite__mapDeps([29,1,2,3,6,7,5,8]))),yr=a.lazy(()=>v(()=>import("./documentation-DtbvNQXV.js"),__vite__mapDeps([30,1,2,3,10,7,12,5,8]))),Nr=a.lazy(()=>v(()=>import("./privacy-policy-BaEwM9fh.js"),__vite__mapDeps([31,1,2,3,12,7,16,5,8]))),kr=a.lazy(()=>v(()=>import("./terms-of-service-9WjCd7UU.js"),__vite__mapDeps([32,1,2,3,12,7,16,5,8]))),Cr=a.lazy(()=>v(()=>import("./bug-bounty-BK7HBkQI.js"),__vite__mapDeps([33,1,2,3,11,27,20,7,4,5,8]))),_r=a.lazy(()=>v(()=>import("./multichain-portfolio-BzZKnpTA.js"),__vite__mapDeps([34,1,2,3,17,7,10,6,14,15,5,8]))),Mr=a.lazy(()=>v(()=>import("./minting-PLDCZlkE.js"),__vite__mapDeps([35,2,1,3,11,20,7,27,6,5,8]))),Pr=a.lazy(()=>v(()=>import("./xps-staking-DSXax72M.js"),__vite__mapDeps([36,1,2,3,10,7,8,11,20,17,14,5]))),Sr=a.lazy(()=>v(()=>import("./xps-purchase-_MwG-2iZ.js"),__vite__mapDeps([37,1,2,3,11,20,7,16,8,5]))),Tr=a.lazy(()=>v(()=>import("./options-CG8AAG5B.js"),__vite__mapDeps([38,1,2,3,11,10,7,17,5,8]))),Ir=a.lazy(()=>v(()=>import("./futures-D4Esr63U.js"),__vite__mapDeps([39,1,2,3,11,17,7,5,8]))),Er=a.lazy(()=>v(()=>import("./flashloans-Do6bKR9m.js"),__vite__mapDeps([40,1,2,3,11,10,7,17,27,5,8]))),Ar=a.lazy(()=>v(()=>import("./memecoin-C18SxM6_.js"),__vite__mapDeps([41,1,2,3,11,20,7,27,6,10,5,8]))),Rr=a.lazy(()=>v(()=>import("./test-DSWaXgWi.js"),__vite__mapDeps([42,1,2,3,5,7,8]))),Or=a.lazy(()=>v(()=>import("./not-found-CyZHmeyR.js"),__vite__mapDeps([43,1,2,3,5,7,8])));function Dr(){return e.jsx(ft,{base:"/xpswap",children:e.jsx(mr,{children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"페이지를 로딩하는 중..."})]})}),children:e.jsxs(gt,{children:[e.jsx(w,{path:"/",component:ur}),e.jsx(w,{path:"/swap",component:hr}),e.jsx(w,{path:"/trading",component:pr}),e.jsx(w,{path:"/pool",component:xr}),e.jsx(w,{path:"/farm",component:fr}),e.jsx(w,{path:"/bridge",component:gr}),e.jsx(w,{path:"/atomic-swap",component:wr}),e.jsx(w,{path:"/governance",component:vr}),e.jsx(w,{path:"/analytics",component:br}),e.jsx(w,{path:"/security",component:jr}),e.jsx(w,{path:"/documentation",component:yr}),e.jsx(w,{path:"/privacy-policy",component:Nr}),e.jsx(w,{path:"/terms-of-service",component:kr}),e.jsx(w,{path:"/bug-bounty",component:Cr}),e.jsx(w,{path:"/multichain-portfolio",component:_r}),e.jsx(w,{path:"/minting",component:Mr}),e.jsx(w,{path:"/memecoin",component:Ar}),e.jsx(w,{path:"/xps-staking",component:Pr}),e.jsx(w,{path:"/xps-purchase",component:Sr}),e.jsx(w,{path:"/test",component:Rr}),e.jsx(w,{path:"/options",component:Tr}),e.jsx(w,{path:"/futures",component:Ir}),e.jsx(w,{path:"/flashloans",component:Er}),e.jsx(w,{component:Or})]})})})})}function Xr(){return e.jsx(ss,{client:ws,children:e.jsx(Is,{defaultTheme:"system",storageKey:"xpswap-ui-theme",children:e.jsx(Ps,{children:e.jsxs(Zs,{children:[e.jsx(Dr,{}),e.jsx(Ms,{})]})})})})}mt.createRoot(document.getElementById("root")).render(e.jsx(Xr,{}));export{W as A,N as B,ne as C,lt as D,ts as a,xs as b,oe as c,Us as d,Qs as e,$ as f,tr as g,zs as h,ce as i,de as j,me as k,ue as l,V as m,Ye as n,Hs as o,x as p,Wr as q,je as r,is as s,Vr as t,Q as u,S as v};
