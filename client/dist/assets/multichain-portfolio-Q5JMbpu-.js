import{r as i,F as u,j as e,W as O,bk as C,s as S,aw as T,ad as k,aM as $,a9 as P,a7 as W,as as F,x as D,E as B}from"./react-CnjVYTDc.js";import{f as I,u as M,B as b,C as n,b as d,c as o,a as m,d as L,g as p}from"./index-DxHLzNoH.js";import{S as H,a as K,b as U,c as Y,d as G}from"./select-CKrfnZoO.js";import{T as Q,a as X,b as x,c as h}from"./tabs-1rBqboxz.js";import{P as R}from"./progress-BqIT0-Qh.js";import{W as Z}from"./WalletSelector-Bly2x6nt.js";import{u as J}from"./useTokenPrices-DtKVxnmy.js";import"./vendor-B0r8BCsL.js";import"./utils-BkLtITBR.js";import"./ui-BQCqNqg0.js";import"./router-B_5Dh3-u.js";import"./web3-30Ii_1H8.js";function _({selectedNetwork:g,onNetworkChange:j}){const c=[{id:"all",name:"All Networks",logo:"ðŸŒ"},{id:"ethereum",name:"Ethereum",logo:"âŸ "},{id:"bsc",name:"BSC",logo:"ðŸŸ¡"},{id:"polygon",name:"Polygon",logo:"ðŸŸ£"},{id:"arbitrum",name:"Arbitrum",logo:"ðŸ”µ"},{id:"optimism",name:"Optimism",logo:"ðŸ”´"},{id:"xphere",name:"Xphere",logo:"âš¡"}];return e.jsxs(H,{value:g,onValueChange:j,children:[e.jsx(K,{className:"w-48 bg-white border-gray-300 text-gray-900",children:e.jsx(U,{})}),e.jsx(Y,{className:"bg-white border-gray-200",children:c.map(l=>e.jsx(G,{value:l.id,className:"hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:l.logo}),e.jsx("span",{children:l.name})]})},l.id))})]})}function ee(){const[g,j]=i.useState("all"),[c,l]=i.useState("overview"),[se,ae]=i.useState(!1),[N,y]=i.useState(!1),[f,te]=i.useState("7d"),{wallet:r,isConnected:re}=I(),{toast:v}=M(),{prices:le,loading:ie}=J(),{data:a,isLoading:ce}=u({queryKey:["/api/portfolio/multichain",r.address],queryFn:async()=>{const s=await fetch(p(`/api/portfolio/multichain/${r.address}`));if(!s.ok)throw new Error("Failed to fetch portfolio data");return s.json()},enabled:!!r.address,refetchInterval:3e4}),{data:w}=u({queryKey:["/api/portfolio/transactions",r.address],queryFn:async()=>{const s=await fetch(p(`/api/portfolio/transactions/${r.address}?limit=10`));if(!s.ok)throw new Error("Failed to fetch transactions");return s.json()},enabled:!!r.address,refetchInterval:2e4}),{data:ne}=u({queryKey:["/api/portfolio/analytics",r.address,f],queryFn:async()=>{const s=await fetch(p(`/api/portfolio/analytics/${r.address}?timeframe=${f}`));if(!s.ok)throw new Error("Failed to fetch analytics");return s.json()},enabled:!!r.address&&c==="analytics"}),A=async()=>{y(!0),await new Promise(s=>setTimeout(s,2e3)),y(!1),v({title:"Portfolio Updated",description:"Your portfolio data has been refreshed successfully."})},E=s=>{navigator.clipboard.writeText(s),v({title:"Copied!",description:"Transaction hash copied to clipboard."})},q=s=>{switch(s){case"completed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},V=s=>{switch(s){case"swap":return e.jsx(S,{className:"h-4 w-4"});case"liquidity":return e.jsx(C,{className:"h-4 w-4"});case"stake":return e.jsx(P,{className:"h-4 w-4"});case"bridge":return e.jsx(F,{className:"h-4 w-4"});default:return e.jsx(T,{className:"h-4 w-4"})}};return r.isConnected?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[e.jsx(C,{className:"mr-3 h-8 w-8 text-blue-600"}),"Multi-Chain Portfolio"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your assets across all networks"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(_,{selectedNetwork:g,onNetworkChange:j}),e.jsxs(b,{onClick:A,disabled:N,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(S,{className:`h-4 w-4 mr-2 ${N?"animate-spin":""}`}),"Refresh"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"bg-white border-gray-200 shadow-sm",children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-gray-900 flex items-center",children:[e.jsx(T,{className:"h-5 w-5 mr-2 text-green-600"}),"Total Value"]})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:["$",a.totalValue.toLocaleString()]}),e.jsxs("div",{className:`flex items-center text-sm ${a.totalChange24h>0?"text-green-600":"text-red-600"}`,children:[a.totalChange24h>0?e.jsx(k,{className:"h-4 w-4 mr-1"}):e.jsx($,{className:"h-4 w-4 mr-1"}),a.totalChange24h>0?"+":"",a.totalChange24h,"% (24h)"]})]})]}),e.jsxs(n,{className:"bg-white border-gray-200 shadow-sm",children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-gray-900 flex items-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2 text-purple-600"}),"Staking Rewards"]})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:["$",a.stakingRewards.earned.toFixed(2)]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",a.stakingRewards.pending.toFixed(2)," pending"]}),e.jsxs("div",{className:"text-sm text-purple-600 font-medium",children:[a.stakingRewards.apr,"% APR"]})]})]}),e.jsxs(n,{className:"bg-white border-gray-200 shadow-sm",children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-gray-900 flex items-center",children:[e.jsx(W,{className:"h-5 w-5 mr-2 text-blue-600"}),"Active Networks"]})}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-3",children:Object.keys(a.networks).length}),e.jsx("div",{className:"space-y-2",children:Object.entries(a.networks).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 capitalize",children:s}),e.jsxs("span",{className:"font-medium text-gray-900",children:[t.percentage,"%"]})]},s))})]})]})]}),e.jsx(Q,{value:c,onValueChange:l,className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs(X,{className:"grid w-full grid-cols-4 bg-gray-100",children:[e.jsx(x,{value:"overview",className:"data-[state=active]:bg-white",children:"Overview"}),e.jsx(x,{value:"tokens",className:"data-[state=active]:bg-white",children:"Tokens"}),e.jsx(x,{value:"networks",className:"data-[state=active]:bg-white",children:"Networks"}),e.jsx(x,{value:"history",className:"data-[state=active]:bg-white",children:"History"})]}),e.jsx(h,{value:"overview",className:"mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Portfolio Allocation"}),e.jsx("div",{className:"space-y-4",children:a.tokens.map((s,t)=>{const z=s.value/a.totalValue*100;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s.symbol.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.symbol}),e.jsx("div",{className:"text-sm text-gray-600",children:s.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[z.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["$",s.value.toLocaleString()]})]})]},t)})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Network Distribution"}),e.jsx("div",{className:"space-y-4",children:Object.entries(a.networks).map(([s,t])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:s}),e.jsxs("span",{className:"text-sm text-gray-600",children:[t.percentage,"%"]})]}),e.jsx(R,{value:t.percentage,className:"h-2"})]},s))})]})]})}),e.jsx(h,{value:"tokens",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:a.tokens.map((s,t)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-bold",children:s.symbol.charAt(0)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.symbol}),e.jsx("div",{className:"text-sm text-gray-600",children:s.name}),e.jsx(L,{variant:"outline",className:"mt-1 text-xs",children:s.network})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.balance}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",s.value.toLocaleString()]}),e.jsxs("div",{className:`text-sm flex items-center justify-end ${s.change24h>0?"text-green-600":"text-red-600"}`,children:[s.change24h>0?e.jsx(k,{className:"h-3 w-3 mr-1"}):e.jsx($,{className:"h-3 w-3 mr-1"}),s.change24h>0?"+":"",s.change24h,"%"]})]})]})},t))})}),e.jsx(h,{value:"networks",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(a.networks).map(([s,t])=>e.jsxs(n,{className:"bg-white border-gray-200 shadow-sm",children:[e.jsx(d,{children:e.jsxs(o,{className:"text-gray-900 capitalize flex items-center",children:[e.jsx(F,{className:"h-5 w-5 mr-2 text-blue-600"}),s]})}),e.jsxs(m,{children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:["$",t.value.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[t.percentage,"% of portfolio"]}),e.jsx(R,{value:t.percentage,className:"h-2"})]})]},s))})}),e.jsx(h,{value:"history",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:(w?.data||w||[]).map(s=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:V(s.type)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 capitalize",children:s.type}),e.jsx("div",{className:"text-sm text-gray-600",children:s.token}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(s.timestamp).toLocaleString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.amount}),e.jsx(L,{className:`${q(s.status)} border`,children:s.status}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>E(s.hash),className:"text-xs",children:[e.jsx(D,{className:"h-3 w-3 mr-1"}),"Copy"]}),e.jsxs(b,{size:"sm",variant:"outline",className:"text-xs",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),"View"]})]})]})]})},s.id))})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(O,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect Your Wallet"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Connect your wallet to view your multi-chain portfolio and transaction history."}),e.jsx(Z,{})]})})})}function fe(){return e.jsx(ee,{})}export{fe as default};
